

<!DOCTYPE html>
<head>
  
<link rel='stylesheet' href='https://tafengtravel.github.io/tafengtravel/index/css/smart.css' type='text/css'>
<link href="https://tafengtravel.github.io/tafengtravel/index/index.css" rel="stylesheet" >

<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

<link href='https://tafengtravel.github.io/tafengtravel/index/sm-css/sm-core-css.css' rel='stylesheet' type='text/css' />
<!-- "sm-blue" menu theme (optional, you can use your own CSS, too) -->
<link href='https://tafengtravel.github.io/tafengtravel/index/sm-css/sm-mint/sm-mint.css' rel='stylesheet' type='text/css' />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css">


<script src="https://tafengtravel.github.io/tafengtravel/index/js/jquery.min.js.js"></script>     
<script src="https://tafengtravel.github.io/tafengtravel/index/js/jquery.smartmenus.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script src="https://smtpjs.com/v3/smtp.js"></script>


<link href="https://tafengtravel.github.io/tafengtravel/index/css/elementUI.css" rel="stylesheet" />
<link href="https://tafengtravel.github.io/tafengtravel/index/css/common.css" rel="stylesheet" />
<link href="https://tafengtravel.github.io/tafengtravel/index/css/book.css" rel="stylesheet" />


<script src="https://tafengtravel.github.io/tafengtravel/index/js/sendMail.js"></script>   

<!--自家檔案-->

<link rel="icon" href="https://tafengtravel.github.io/tafengtravel/index1/tafenglogo6.ico" type="image/x-icon" />
<link rel="shortcut icon" href="https://tafengtravel.github.io/tafengtravel/index1/tafenglogo6.ico" type="image/x-icon" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-143702269-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-143702269-1', {
'linker': {
    'domains': ['tafengtravel.github.io', 'tafeng66.com.tw']
}
});
</script>

<!-- Facebook Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '708390289347362');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=708390289347362&ev=PageView&noscript=1"
/></noscript>
<!-- End Facebook Pixel Code -->

<!-- Facebook Event -->


<!-- GA Event -->
<script>
window.addEventListener('load', function(event) {
document.querySelectorAll("[href^='http://line.me']").forEach(function(item){
    item.addEventListener('click', function(event){
        gtag("event", "點擊", {event_category: "line客戶轉換"});
    })
})
document.querySelectorAll("[href^='https://line.me']").forEach(function(item){
    item.addEventListener('click', function(event){
        gtag("event", "點擊", {event_category: "line客戶轉換"});
    })
})
})  
</script>

<style>
@media (min-width: 768px){
    .sm-mint a, .sm-mint a:hover, .sm-mint a:focus, .sm-mint a:active, .sm-mint a.highlighted {
    padding: 19px 20px;
    border-radius: 4px 4px 0 0;
    }
    .sm-mint a.has-submenu {
    padding-right: 34px;
    }

}
@media (max-width: 768px) {
    .table-sm td, .table-sm th{
    padding: 1px;
    } 
}

</style>

   
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>大豐旅行社｜訂購｜國內外旅遊專家</title>   	

<meta name="description" content="大豐旅行社,國內旅遊,國外自由行,世界郵輪,遊覽車出租,來台旅遊">
<meta name="keywords" content="大豐旅行社,國內旅遊,國外自由行" /> 
<meta http-equiv="expires" content="0">
<meta http-equiv="cache-control" content="no-cache">  
<meta http-equiv="pragma" content="no-cache">
<meta name="format-detection" content="telephone=no">

<title>

</title>


</head>
<body id="page_body" class="green-page">

<div class="include" file="https://tafengtravel.github.io/tafengtravel/index/top"></div>
    
<div id="pnl_wrapper" class="wrapper homepage green-page">
 



<div id="app" class ="el-col el-col-24 el-col-xs-24 el-col-xs-offset-0 el-col-sm-24 el-col-sm-offset-0 el-col-lg-6 el-col-lg-offset-9"> 

    <br>
    <div class='box'>
        
            <el-row>
                <font class ="sub_title" id ="sub_title"></font>
            </el-row>


            <el-row>
                <span class= "el-col-2">
                    <font class ="font"><i class="el-icon-date"></i></font>
                </span>            
                <span class= "el-col-22">
                    <font class ="font">日期：<span id ="sub_title_1"></span></font>
                </span> 
            </el-row>
            <el-row>
                <span class= "el-col-2">
                    <font class ="font"><i class="el-icon-time"></i></font>
                </span>           
                <span class= "el-col-22">
                    <font class ="font">時間：<span id ="sub_title_2"></span></font>
                </span>
            </el-row>
            <el-row>
                <span class= "el-col-2">
                    <font class ="font"><i class="el-icon-s-custom"></i></font>
                </span>            
                <span class= "el-col-22">
                    <font class ="font">人數：<span id ="sub_title_3"></span></font>
                </span>   
            </el-row>   
            <el-row>
                <span class= "el-col-2">
                    <font class ="font"><i class="el-icon-tickets"></i></font>
                </span>            
                <span class= "el-col-22">
                    <font class ="font">類型：<span id ="sub_title_4"></span></font>
                </span>   
            </el-row>      
            
    </div>

    <el-divider></el-divider>

    <el-row>
        <font class ="sub_title">訂購人資料</font>
    </el-row>

    <el-form :model="ruleForm" :rules="rules" ref="ruleForm" label-width="80px" class="demo-ruleForm">


        <el-form-item label="" prop="itinerary" style='display: none;'>
            <el-input v-model="ruleForm.itinerary"></el-input>
        </el-form-item>  
        <el-form-item label="" prop="price" style='display: none;'>
            <el-input v-model="ruleForm.price"></el-input>
        </el-form-item>  

        <el-form-item label="姓名" prop="buyer_name">
            <el-input v-model="ruleForm.buyer_name"></el-input>
        </el-form-item>            
        <el-form-item label="電話" prop="phone">
            <el-input v-model="ruleForm.phone"></el-input>
        </el-form-item>
        <el-form-item label="信箱" prop="email">
            <el-input v-model="ruleForm.email"></el-input>
        </el-form-item>

        <el-divider></el-divider>


        <el-row>
            <font class ="sub_title">旅客資料</font>
        </el-row>

        <li v-for="i in total_quantity" :key="i">

            <el-row>
            <font class ="font">第{{i}}位旅客</font>
            </el-row>
                <el-form-item label="姓名" prop="guest_name">
                    <el-input v-model="ruleForm.guest_name[i-1]"></el-input>
                </el-form-item>                    

                <el-form-item label="生日" prop="birth">
                    <el-date-picker
                        v-model="ruleForm.birth[i-1]"
                        type="date"
                        value-format="yyyy-MM-dd"
                        placeholder="選擇日期"
                        :picker-options="pickerOptions"
                        >
                    </el-date-picker>
                </el-form-item>

                <el-form-item label="身分證" prop="ID">
                    <el-input v-model="ruleForm.ID[i-1]"></el-input>
                </el-form-item>       

            <el-row></el-row>

        </li>  

        <el-divider></el-divider>


        <el-form-item label="訂單備註" prop="other">
            <el-input v-model="ruleForm.other" type="textarea" ></el-input>
        </el-form-item> 

        <el-divider></el-divider>

        <el-row>
            <font class ="sub_title">訂單金額</font>
            <font class ="sub_title" id='price' style="color:#F60"></font>
        </el-row>
        <el-row>
            <font class ="mini_font">訂購完成後須等待空位確認，專員會於1個工作天內回覆您預定結果，並將付款連結寄至您的信箱，訂單將於付款後正式成立。</font>
        </el-row>



        <el-form-item>
            <el-button type="primary" @click="submitForm('ruleForm')">訂購</el-button>
            <el-button @click="cancel">取消</el-button>
        </el-form-item>


    </el-form>

</div>

<style>

</style>




        
<a class="go-to-top" id="goTop" href="#"><i class="fa fa-caret-up"></i>top</a>

    
</body>

<script src="https://unpkg.com/vue@2.6.12/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui@2.15.0/lib/index.js"></script>

<script type="text/javascript">

    //使用jQuery的load方法
    $(".include").each(function(){
        if(!!$(this).attr("file")) {
            var $includeObj = $(this);
            $(this).load($(this).attr("file"), function(html){
                $includeObj.after(html).remove();    //載入的檔案內容寫入到當前標籤後面並移除當前標籤
            })
        }
    });
</script>

<script>

    let number ;
    let total_quantity = localStorage.getItem("quantity");
    let time = localStorage.getItem("time");
    let dep_date = localStorage.getItem("dep_date");
    let price = localStorage.getItem("price");
    let itinerary = localStorage.getItem("itinerary");
    let type = localStorage.getItem("type");

    let a =[];

    document.getElementById("sub_title").innerHTML=itinerary;
    document.getElementById("sub_title_1").innerHTML=dep_date;
    document.getElementById("sub_title_2").innerHTML=time;
    document.getElementById("sub_title_3").innerHTML=total_quantity;
    document.getElementById("sub_title_4").innerHTML=type;
    document.getElementById("price").innerHTML='$'+price;
    
    /*
    for(i=1;i<4;i++){
        document.getElementById("sub_title_"+i).innerHTML='20';
    }
    */    

    var Main = {
        data() {
            return {
                disabledDate:'2021-02-20',
                birth:'',
                pickerOptions: {
                    disabledDate(time) {
                        return time.getTime() > Date.now();
                    }
                },

                labelPosition: 'left',
                formLabelAlign: {


                },
                name:[],
                phone:[],
                email:[],
                name:'',
                phone:'',
                email:'',
                total_quantity:total_quantity,

                ruleForm: {
                    buyer_name:'',  
                    guest_name:[],      
                    birth:[],  
                    ID:[],
                    other:'',
                    itinerary:itinerary,
                    price:price,
                    dep_date:dep_date,
                    type:type,
                },
                rules: {
                    buyer_name: [
                        { required: true, message: '必填', trigger: 'blur'},
                    ],
                    phone: [
                        { required: true, message: '必填', trigger: 'blur'},
                    ],
                    email: [
                        { type: 'email',required: true, message: 'Email格式錯誤', trigger: 'blur'},
                    ],guest_name:[
                        { required: true, message: '必填', trigger: 'blur'},
                    ],birth:[
                        { required: true, message: '必填', trigger: 'blur'},
                    ],ID:[
                        { required: true, message: '必填', trigger: 'blur'},
                    ]
                }
            };

        },methods:{
            submitForm(formName) {
                this.$refs[formName].validate((valid) => {
                    if (valid) {
                        console.log('submit!');
                        sendMail(this.ruleForm);
                        localStorage.clear()
                    } else {
                        console.log('error submit!!');
                        return false;
                    }
                });
            },
            resetForm(formName) {
                this.$refs[formName].resetFields();
            },
            cancel(){
                localStorage.clear()
                window.location.href='https://tafengtravel.github.io/tafengtravel/index/tafengindex.html'
            }
        }
     
    };



    let Today=new Date();
    console.log(Today.getFullYear()+'-'+ (Today.getMonth()+1) +'-'+ Today.getDate())

    var Ctor = Vue.extend(Main)
    new Ctor().$mount('#app')


    
</script>

</html>
